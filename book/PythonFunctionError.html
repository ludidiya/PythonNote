<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 函数与异常处理 | Python学习笔记</title>
  <meta name="description" content="Chapter 4 函数与异常处理 | Python学习笔记" />
  <meta name="generator" content="bookdown 0.17 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 函数与异常处理 | Python学习笔记" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 函数与异常处理 | Python学习笔记" />
  
  
  

<meta name="author" content="LUDI Ling" />


<meta name="date" content="2020-09-26" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="PythonDataContainers.html"/>
<link rel="next" href="PythonObjectAndModuel.html"/>
<script src="libs/header-attrs-2.1/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Python学习笔记</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> 目录</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#python基础"><i class="fa fa-check"></i><b>1.1</b> python基础</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#python-cheat-sheet"><i class="fa fa-check"></i><b>1.2</b> Python Cheat Sheet</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="PythonBase.html"><a href="PythonBase.html"><i class="fa fa-check"></i><b>2</b> Python基础</a>
<ul>
<li class="chapter" data-level="2.1" data-path="PythonBase.html"><a href="PythonBase.html#anaconda与jupyter"><i class="fa fa-check"></i><b>2.1</b> Anaconda与Jupyter</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="PythonBase.html"><a href="PythonBase.html#anaconda"><i class="fa fa-check"></i><b>2.1.1</b> Anaconda</a></li>
<li class="chapter" data-level="2.1.2" data-path="PythonBase.html"><a href="PythonBase.html#jupyter"><i class="fa fa-check"></i><b>2.1.2</b> Jupyter</a></li>
<li class="chapter" data-level="2.1.3" data-path="PythonBase.html"><a href="PythonBase.html#安装jupyter-notebook拓展"><i class="fa fa-check"></i><b>2.1.3</b> 安装Jupyter Notebook拓展</a></li>
<li class="chapter" data-level="2.1.4" data-path="PythonBase.html"><a href="PythonBase.html#jupyter中常用操作"><i class="fa fa-check"></i><b>2.1.4</b> Jupyter中常用操作</a></li>
<li class="chapter" data-level="2.1.5" data-path="PythonBase.html"><a href="PythonBase.html#注意事项"><i class="fa fa-check"></i><b>2.1.5</b> 注意事项</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="PythonBase.html"><a href="PythonBase.html#语句与注释"><i class="fa fa-check"></i><b>2.2</b> 语句与注释</a></li>
<li class="chapter" data-level="2.3" data-path="PythonBase.html"><a href="PythonBase.html#变量与赋值"><i class="fa fa-check"></i><b>2.3</b> 变量与赋值</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="PythonBase.html"><a href="PythonBase.html#变量的定义"><i class="fa fa-check"></i><b>2.3.1</b> 变量的定义</a></li>
<li class="chapter" data-level="2.3.2" data-path="PythonBase.html"><a href="PythonBase.html#变量的命名规则"><i class="fa fa-check"></i><b>2.3.2</b> 变量的命名规则</a></li>
<li class="chapter" data-level="2.3.3" data-path="PythonBase.html"><a href="PythonBase.html#关键字"><i class="fa fa-check"></i><b>2.3.3</b> 关键字</a></li>
<li class="chapter" data-level="2.3.4" data-path="PythonBase.html"><a href="PythonBase.html#PythonDataType"><i class="fa fa-check"></i><b>2.3.4</b> 常用的数据类型转换</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="PythonBase.html"><a href="PythonBase.html#输入和输出"><i class="fa fa-check"></i><b>2.4</b> 输入和输出</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="PythonBase.html"><a href="PythonBase.html#python中的输出"><i class="fa fa-check"></i><b>2.4.1</b> Python中的输出</a></li>
<li class="chapter" data-level="2.4.2" data-path="PythonBase.html"><a href="PythonBase.html#FormattingOutPut"><i class="fa fa-check"></i><b>2.4.2</b> 格式化输出</a></li>
<li class="chapter" data-level="2.4.3" data-path="PythonBase.html"><a href="PythonBase.html#python中的输入"><i class="fa fa-check"></i><b>2.4.3</b> Python中的输入</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="PythonBase.html"><a href="PythonBase.html#PythonMathOperator"><i class="fa fa-check"></i><b>2.5</b> 运算符</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="PythonBase.html"><a href="PythonBase.html#算数运算符拓展"><i class="fa fa-check"></i><b>2.5.1</b> 算数运算符（拓展）</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="PythonBase.html"><a href="PythonBase.html#ifelifelse"><i class="fa fa-check"></i><b>2.6</b> if…elif…else</a></li>
<li class="chapter" data-level="2.7" data-path="PythonBase.html"><a href="PythonBase.html#循环语句"><i class="fa fa-check"></i><b>2.7</b> 循环语句</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="PythonBase.html"><a href="PythonBase.html#while循环"><i class="fa fa-check"></i><b>2.7.1</b> while循环</a></li>
<li class="chapter" data-level="2.7.2" data-path="PythonBase.html"><a href="PythonBase.html#for循环"><i class="fa fa-check"></i><b>2.7.2</b> for循环</a></li>
<li class="chapter" data-level="2.7.3" data-path="PythonBase.html"><a href="PythonBase.html#break"><i class="fa fa-check"></i><b>2.7.3</b> break</a></li>
<li class="chapter" data-level="2.7.4" data-path="PythonBase.html"><a href="PythonBase.html#continue"><i class="fa fa-check"></i><b>2.7.4</b> continue</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="PythonBase.html"><a href="PythonBase.html#练习"><i class="fa fa-check"></i><b>2.8</b> 练习</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="PythonBase.html"><a href="PythonBase.html#打印10以内的奇数"><i class="fa fa-check"></i><b>2.8.1</b> 打印10以内的奇数</a></li>
<li class="chapter" data-level="2.8.2" data-path="PythonBase.html"><a href="PythonBase.html#程序输出随机数"><i class="fa fa-check"></i><b>2.8.2</b> 程序输出随机数</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="PythonDataContainers.html"><a href="PythonDataContainers.html"><i class="fa fa-check"></i><b>3</b> Python数据容器</a>
<ul>
<li class="chapter" data-level="3.1" data-path="PythonDataContainers.html"><a href="PythonDataContainers.html#字符串str"><i class="fa fa-check"></i><b>3.1</b> 字符串（str）</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="PythonDataContainers.html"><a href="PythonDataContainers.html#下标和切片"><i class="fa fa-check"></i><b>3.1.1</b> 下标和切片</a></li>
<li class="chapter" data-level="3.1.2" data-path="PythonDataContainers.html"><a href="PythonDataContainers.html#StrBuildInFunctions"><i class="fa fa-check"></i><b>3.1.2</b> 字符串常见内置函数</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="PythonDataContainers.html"><a href="PythonDataContainers.html#列表list"><i class="fa fa-check"></i><b>3.2</b> 列表（list）</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="PythonDataContainers.html"><a href="PythonDataContainers.html#ListBuildInFunctions"><i class="fa fa-check"></i><b>3.2.1</b> 列表常用操作</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="PythonDataContainers.html"><a href="PythonDataContainers.html#元组tuple"><i class="fa fa-check"></i><b>3.3</b> 元组（tuple）</a></li>
<li class="chapter" data-level="3.4" data-path="PythonDataContainers.html"><a href="PythonDataContainers.html#字典dict"><i class="fa fa-check"></i><b>3.4</b> 字典（dict）</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="PythonDataContainers.html"><a href="PythonDataContainers.html#DicBuildInFunctions"><i class="fa fa-check"></i><b>3.4.1</b> 字典常见操作</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="PythonDataContainers.html"><a href="PythonDataContainers.html#集合set"><i class="fa fa-check"></i><b>3.5</b> 集合（set）</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="PythonDataContainers.html"><a href="PythonDataContainers.html#交集并集"><i class="fa fa-check"></i><b>3.5.1</b> 交集/并集</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="PythonDataContainers.html"><a href="PythonDataContainers.html#VariableAndInvariable"><i class="fa fa-check"></i><b>3.6</b> 拓展：可变类型&amp;不可变类型</a></li>
<li class="chapter" data-level="3.7" data-path="PythonDataContainers.html"><a href="PythonDataContainers.html#练习-1"><i class="fa fa-check"></i><b>3.7</b> 练习</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="PythonDataContainers.html"><a href="PythonDataContainers.html#字符串遍历"><i class="fa fa-check"></i><b>3.7.1</b> 字符串遍历</a></li>
<li class="chapter" data-level="3.7.2" data-path="PythonDataContainers.html"><a href="PythonDataContainers.html#获取列表中相同元素对应的索引并保存到字典中"><i class="fa fa-check"></i><b>3.7.2</b> 获取列表中相同元素对应的索引，并保存到字典中</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html"><i class="fa fa-check"></i><b>4</b> 函数与异常处理</a>
<ul>
<li class="chapter" data-level="4.1" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#函数定义和调用"><i class="fa fa-check"></i><b>4.1</b> 函数定义和调用</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#函数说明文档"><i class="fa fa-check"></i><b>4.1.1</b> 函数说明文档</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#函数的参数"><i class="fa fa-check"></i><b>4.2</b> 函数的参数</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#位置参数必选参数"><i class="fa fa-check"></i><b>4.2.1</b> 位置参数/必选参数</a></li>
<li class="chapter" data-level="4.2.2" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#关键字参数"><i class="fa fa-check"></i><b>4.2.2</b> 关键字参数</a></li>
<li class="chapter" data-level="4.2.3" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#默认参数"><i class="fa fa-check"></i><b>4.2.3</b> 默认参数</a></li>
<li class="chapter" data-level="4.2.4" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#DefaultParameterBug"><i class="fa fa-check"></i><b>4.2.4</b> 默认参数为空，有坑！！！！</a></li>
<li class="chapter" data-level="4.2.5" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#不定长位置参数"><i class="fa fa-check"></i><b>4.2.5</b> 不定长位置参数</a></li>
<li class="chapter" data-level="4.2.6" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#不定长关键字参数"><i class="fa fa-check"></i><b>4.2.6</b> 不定长关键字参数</a></li>
<li class="chapter" data-level="4.2.7" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#命名关键字参数"><i class="fa fa-check"></i><b>4.2.7</b> 命名关键字参数</a></li>
<li class="chapter" data-level="4.2.8" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#参数组合"><i class="fa fa-check"></i><b>4.2.8</b> 参数组合</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#函数返回值"><i class="fa fa-check"></i><b>4.3</b> 函数返回值</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#带有返回值的函数"><i class="fa fa-check"></i><b>4.3.1</b> 带有返回值的函数</a></li>
<li class="chapter" data-level="4.3.2" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#多个返回值"><i class="fa fa-check"></i><b>4.3.2</b> 多个返回值</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#递归函数"><i class="fa fa-check"></i><b>4.4</b> 递归函数</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#函数嵌套"><i class="fa fa-check"></i><b>4.4.1</b> 函数嵌套</a></li>
<li class="chapter" data-level="4.4.2" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#递归函数-1"><i class="fa fa-check"></i><b>4.4.2</b> 递归函数</a></li>
<li class="chapter" data-level="4.4.3" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#栈溢出"><i class="fa fa-check"></i><b>4.4.3</b> 栈溢出</a></li>
<li class="chapter" data-level="4.4.4" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#尾递归"><i class="fa fa-check"></i><b>4.4.4</b> 尾递归</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#局部变量与全局变量"><i class="fa fa-check"></i><b>4.5</b> 局部变量与全局变量</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#局部变量"><i class="fa fa-check"></i><b>4.5.1</b> 局部变量</a></li>
<li class="chapter" data-level="4.5.2" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#全局变量"><i class="fa fa-check"></i><b>4.5.2</b> 全局变量</a></li>
<li class="chapter" data-level="4.5.3" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#全局变量和局部变量冲突问题"><i class="fa fa-check"></i><b>4.5.3</b> 全局变量和局部变量冲突问题</a></li>
<li class="chapter" data-level="4.5.4" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#修改全局变量"><i class="fa fa-check"></i><b>4.5.4</b> 修改全局变量</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#捕获异常"><i class="fa fa-check"></i><b>4.6</b> 捕获异常</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#错误种类"><i class="fa fa-check"></i><b>4.6.1</b> 错误种类</a></li>
<li class="chapter" data-level="4.6.2" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#PythonError"><i class="fa fa-check"></i><b>4.6.2</b> Python所有的标准异常类</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#练习-2"><i class="fa fa-check"></i><b>4.7</b> 练习</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#保留小数封装成函数"><i class="fa fa-check"></i><b>4.7.1</b> 保留小数封装成函数</a></li>
<li class="chapter" data-level="4.7.2" data-path="PythonFunctionError.html"><a href="PythonFunctionError.html#字符串组成统计"><i class="fa fa-check"></i><b>4.7.2</b> 字符串组成统计</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="PythonObjectAndModuel.html"><a href="PythonObjectAndModuel.html"><i class="fa fa-check"></i><b>5</b> 面向对象与模块</a>
<ul>
<li class="chapter" data-level="5.1" data-path="PythonObjectAndModuel.html"><a href="PythonObjectAndModuel.html#面向过程和面向对象"><i class="fa fa-check"></i><b>5.1</b> 面向过程和面向对象</a></li>
<li class="chapter" data-level="5.2" data-path="PythonObjectAndModuel.html"><a href="PythonObjectAndModuel.html#类和对象"><i class="fa fa-check"></i><b>5.2</b> 类和对象</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="PythonObjectAndModuel.html"><a href="PythonObjectAndModuel.html#定义类和创建对象"><i class="fa fa-check"></i><b>5.2.1</b> 定义类和创建对象</a></li>
<li class="chapter" data-level="5.2.2" data-path="PythonObjectAndModuel.html"><a href="PythonObjectAndModuel.html#添加和获取对象的属性"><i class="fa fa-check"></i><b>5.2.2</b> 添加和获取对象的属性</a></li>
<li class="chapter" data-level="5.2.3" data-path="PythonObjectAndModuel.html"><a href="PythonObjectAndModuel.html#多个对象的self"><i class="fa fa-check"></i><b>5.2.3</b> 多个对象的self</a></li>
<li class="chapter" data-level="5.2.4" data-path="PythonObjectAndModuel.html"><a href="PythonObjectAndModuel.html#初始化方法"><i class="fa fa-check"></i><b>5.2.4</b> 初始化方法</a></li>
<li class="chapter" data-level="5.2.5" data-path="PythonObjectAndModuel.html"><a href="PythonObjectAndModuel.html#私有属性和私有方法"><i class="fa fa-check"></i><b>5.2.5</b> 私有属性和私有方法</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="PythonObjectAndModuel.html"><a href="PythonObjectAndModuel.html#继承"><i class="fa fa-check"></i><b>5.3</b> 继承</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="PythonObjectAndModuel.html"><a href="PythonObjectAndModuel.html#单继承"><i class="fa fa-check"></i><b>5.3.1</b> 单继承</a></li>
<li class="chapter" data-level="5.3.2" data-path="PythonObjectAndModuel.html"><a href="PythonObjectAndModuel.html#多继承"><i class="fa fa-check"></i><b>5.3.2</b> 多继承</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="PythonObjectAndModuel.html"><a href="PythonObjectAndModuel.html#OverwriteAndPolymorphic"><i class="fa fa-check"></i><b>5.4</b> 重写和多态</a></li>
<li class="chapter" data-level="5.5" data-path="PythonObjectAndModuel.html"><a href="PythonObjectAndModuel.html#Module"><i class="fa fa-check"></i><b>5.5</b> 模块</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="PythonObjectAndModuel.html"><a href="PythonObjectAndModuel.html#自定义模块及导入"><i class="fa fa-check"></i><b>5.5.1</b> 自定义模块及导入</a></li>
<li class="chapter" data-level="5.5.2" data-path="PythonObjectAndModuel.html"><a href="PythonObjectAndModuel.html#模块的导入方法"><i class="fa fa-check"></i><b>5.5.2</b> 模块的导入方法</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="PythonObjectAndModuel.html"><a href="PythonObjectAndModuel.html#练习题"><i class="fa fa-check"></i><b>5.6</b> 练习题</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="PythonExcelWorld.html"><a href="PythonExcelWorld.html"><i class="fa fa-check"></i><b>6</b> 文件操作Excel/World</a>
<ul>
<li class="chapter" data-level="6.1" data-path="PythonExcelWorld.html"><a href="PythonExcelWorld.html#openpyxl简介"><i class="fa fa-check"></i><b>6.1</b> OpenPyXL简介</a></li>
<li class="chapter" data-level="6.2" data-path="PythonExcelWorld.html"><a href="PythonExcelWorld.html#创建工作簿和表"><i class="fa fa-check"></i><b>6.2</b> 创建工作簿和表</a></li>
<li class="chapter" data-level="6.3" data-path="PythonExcelWorld.html"><a href="PythonExcelWorld.html#读取文件和表达内容"><i class="fa fa-check"></i><b>6.3</b> 读取文件和表达内容</a></li>
<li class="chapter" data-level="6.4" data-path="PythonExcelWorld.html"><a href="PythonExcelWorld.html#openpyxl案例"><i class="fa fa-check"></i><b>6.4</b> OpenPyXL案例</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="PythonExcelWorld.html"><a href="PythonExcelWorld.html#添加列数据"><i class="fa fa-check"></i><b>6.4.1</b> 添加列数据</a></li>
<li class="chapter" data-level="6.4.2" data-path="PythonExcelWorld.html"><a href="PythonExcelWorld.html#绘制图形"><i class="fa fa-check"></i><b>6.4.2</b> 绘制图形</a></li>
<li class="chapter" data-level="6.4.3" data-path="PythonExcelWorld.html"><a href="PythonExcelWorld.html#添加图片"><i class="fa fa-check"></i><b>6.4.3</b> 添加图片</a></li>
<li class="chapter" data-level="6.4.4" data-path="PythonExcelWorld.html"><a href="PythonExcelWorld.html#修改单元格样式"><i class="fa fa-check"></i><b>6.4.4</b> 修改单元格样式</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="python-.html"><a href="python-.html"><i class="fa fa-check"></i><b>7</b> Python常见问题及代码</a>
<ul>
<li class="chapter" data-level="7.1" data-path="python-.html"><a href="python-.html#python保留指定位数的小数"><i class="fa fa-check"></i><b>7.1</b> Python保留指定位数的小数</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="python-.html"><a href="python-.html#ff"><i class="fa fa-check"></i><b>7.1.1</b> ‘%.2f’%f</a></li>
<li class="chapter" data-level="7.1.2" data-path="python-.html"><a href="python-.html#format函数"><i class="fa fa-check"></i><b>7.1.2</b> format函数</a></li>
<li class="chapter" data-level="7.1.3" data-path="python-.html"><a href="python-.html#round函数"><i class="fa fa-check"></i><b>7.1.3</b> round函数</a></li>
<li class="chapter" data-level="7.1.4" data-path="python-.html"><a href="python-.html#不四舍五入"><i class="fa fa-check"></i><b>7.1.4</b> 不四舍五入</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="python-.html"><a href="python-.html#小数点后补0整数前补0字符串前后补充空格"><i class="fa fa-check"></i><b>7.2</b> 小数点后补0，整数前补0，字符串前后补充空格</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="python-.html"><a href="python-.html#小数点后补0"><i class="fa fa-check"></i><b>7.2.1</b> 小数点后补0</a></li>
<li class="chapter" data-level="7.2.2" data-path="python-.html"><a href="python-.html#整数前补0"><i class="fa fa-check"></i><b>7.2.2</b> 整数前补0</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Python学习笔记</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="PythonFunctionError" class="section level1" number="4">
<h1><span class="header-section-number">Chapter 4</span> 函数与异常处理</h1>
<div id="函数定义和调用" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> 函数定义和调用</h2>
<p>通俗讲里面就是某一个’功能’的代码实现， 使用函数的目的对代码进行复用，降低代码冗余。函数就是实现某个功能的代码块，提高代码的复用性</p>
<p><strong>函数调用顺序</strong>：先定义，再调用</p>
<div id="函数说明文档" class="section level3" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> 函数说明文档</h3>
<p><strong>函数的说明文档</strong>：可以通过<code>help(函数名)</code>来查看</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="PythonFunctionError.html#cb1-1"></a><span class="kw">def</span> sum_num(num1, num2):</span>
<span id="cb1-2"><a href="PythonFunctionError.html#cb1-2"></a>    </span>
<span id="cb1-3"><a href="PythonFunctionError.html#cb1-3"></a>    <span class="co">&#39;&#39;&#39;函数的功能</span></span>
<span id="cb1-4"><a href="PythonFunctionError.html#cb1-4"></a><span class="co">        计算数字和的函数</span></span>
<span id="cb1-5"><a href="PythonFunctionError.html#cb1-5"></a><span class="co">        :param num1: 第一个数字</span></span>
<span id="cb1-6"><a href="PythonFunctionError.html#cb1-6"></a><span class="co">        :param num2: 第二个数字</span></span>
<span id="cb1-7"><a href="PythonFunctionError.html#cb1-7"></a><span class="co">        :return: 返回值</span></span>
<span id="cb1-8"><a href="PythonFunctionError.html#cb1-8"></a><span class="co">    &#39;&#39;&#39;</span></span>
<span id="cb1-9"><a href="PythonFunctionError.html#cb1-9"></a>    result <span class="op">=</span> num1 <span class="op">+</span> num2</span>
<span id="cb1-10"><a href="PythonFunctionError.html#cb1-10"></a>    <span class="cf">return</span> result</span>
<span id="cb1-11"><a href="PythonFunctionError.html#cb1-11"></a></span>
<span id="cb1-12"><a href="PythonFunctionError.html#cb1-12"></a><span class="bu">help</span>(sum_num)</span></code></pre></div>
</div>
</div>
<div id="函数的参数" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> 函数的参数</h2>
<div id="位置参数必选参数" class="section level3" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> 位置参数/必选参数</h3>
<p>位置参数也叫做必选参数。使用位置参数方式传参必须按照函数参数的顺序去传参。</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="PythonFunctionError.html#cb2-1"></a><span class="kw">def</span> func(name,age):</span>
<span id="cb2-2"><a href="PythonFunctionError.html#cb2-2"></a>    <span class="bu">print</span>(name,age)</span>
<span id="cb2-3"><a href="PythonFunctionError.html#cb2-3"></a></span>
<span id="cb2-4"><a href="PythonFunctionError.html#cb2-4"></a>func(<span class="st">&#39;zs&#39;</span>,<span class="dv">18</span>)</span>
<span id="cb2-5"><a href="PythonFunctionError.html#cb2-5"></a><span class="co"># zs 18</span></span>
<span id="cb2-6"><a href="PythonFunctionError.html#cb2-6"></a>func(<span class="dv">18</span>,<span class="st">&#39;zs&#39;</span>)</span>
<span id="cb2-7"><a href="PythonFunctionError.html#cb2-7"></a><span class="co"># 18 zs</span></span></code></pre></div>
<p>从上面两条参数传入的不同写法看出，位置参数的缺点在于无法控制用户输入参数是否与函数定义一一对应。</p>
</div>
<div id="关键字参数" class="section level3" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> 关键字参数</h3>
<p>解决上述提到的可能传入参数与定义不太对应的情况，可以使用关键字参数：</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="PythonFunctionError.html#cb3-1"></a><span class="kw">def</span> func(name <span class="op">=</span> <span class="st">&#39;zc&#39;</span>, age <span class="op">=</span> <span class="dv">2</span>):</span>
<span id="cb3-2"><a href="PythonFunctionError.html#cb3-2"></a>    <span class="bu">print</span>(name,age)</span></code></pre></div>
</div>
<div id="默认参数" class="section level3" number="4.2.3">
<h3><span class="header-section-number">4.2.3</span> 默认参数</h3>
<p>定义一个计算<code>x</code>的<code>n</code>次幂的函数：<code>x^n</code>，用户不指定n时默认n=2。</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="PythonFunctionError.html#cb4-1"></a><span class="kw">def</span> power(x, n<span class="op">=</span><span class="dv">2</span>):</span>
<span id="cb4-2"><a href="PythonFunctionError.html#cb4-2"></a>    s <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb4-3"><a href="PythonFunctionError.html#cb4-3"></a>    <span class="cf">while</span> n <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb4-4"><a href="PythonFunctionError.html#cb4-4"></a>        n <span class="op">=</span> n <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb4-5"><a href="PythonFunctionError.html#cb4-5"></a>        s <span class="op">=</span> s<span class="op">*</span>x</span>
<span id="cb4-6"><a href="PythonFunctionError.html#cb4-6"></a>    <span class="cf">return</span> s</span>
<span id="cb4-7"><a href="PythonFunctionError.html#cb4-7"></a></span>
<span id="cb4-8"><a href="PythonFunctionError.html#cb4-8"></a>power(<span class="dv">5</span>)</span>
<span id="cb4-9"><a href="PythonFunctionError.html#cb4-9"></a><span class="co"># 25</span></span>
<span id="cb4-10"><a href="PythonFunctionError.html#cb4-10"></a></span>
<span id="cb4-11"><a href="PythonFunctionError.html#cb4-11"></a>power(<span class="dv">5</span>, <span class="dv">3</span>)</span>
<span id="cb4-12"><a href="PythonFunctionError.html#cb4-12"></a><span class="co"># 125</span></span></code></pre></div>
<p>默认参数可以简化函数的调用，有几点需要注意的：</p>
<p>1）必选参数在前，默认参数在后；</p>
<p>2）当函数有多个参数时，把变化大的参数放前面，变化小的参数放后面。变化小的参数就可以作为默认参数。</p>
</div>
<div id="DefaultParameterBug" class="section level3" number="4.2.4">
<h3><span class="header-section-number">4.2.4</span> 默认参数为空，有坑！！！！</h3>
<p>先定义一个函数，传入一个list，添加一个<code>END</code>再返回：</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="PythonFunctionError.html#cb5-1"></a><span class="kw">def</span> add_end(L<span class="op">=</span>[]):</span>
<span id="cb5-2"><a href="PythonFunctionError.html#cb5-2"></a>    L.append(<span class="st">&#39;END&#39;</span>)</span>
<span id="cb5-3"><a href="PythonFunctionError.html#cb5-3"></a>    <span class="cf">return</span> L</span>
<span id="cb5-4"><a href="PythonFunctionError.html#cb5-4"></a>    </span>
<span id="cb5-5"><a href="PythonFunctionError.html#cb5-5"></a>add_end([])</span>
<span id="cb5-6"><a href="PythonFunctionError.html#cb5-6"></a><span class="co"># [&#39;</span><span class="re">END</span><span class="co">&#39;]</span></span>
<span id="cb5-7"><a href="PythonFunctionError.html#cb5-7"></a>add_end([])</span>
<span id="cb5-8"><a href="PythonFunctionError.html#cb5-8"></a><span class="co"># [&#39;</span><span class="re">END</span><span class="co">&#39;]</span></span></code></pre></div>
<p>当我们不给定输入参数，运行多少遍该函数，就会不停地添加<code>END</code>到列表中：</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="PythonFunctionError.html#cb6-1"></a>add_end()</span>
<span id="cb6-2"><a href="PythonFunctionError.html#cb6-2"></a><span class="co"># [&#39;</span><span class="re">END</span><span class="co">&#39;]</span></span>
<span id="cb6-3"><a href="PythonFunctionError.html#cb6-3"></a>add_end()</span>
<span id="cb6-4"><a href="PythonFunctionError.html#cb6-4"></a><span class="co"># [&#39;</span><span class="re">END</span><span class="co">&#39;,&#39;</span><span class="re">END</span><span class="co">&#39;]</span></span></code></pre></div>
<p><strong>解释：</strong>python函数在定义的时候，默认参数L的值就被计算出来了，即<code>[]</code>，因为默认参数L也是一个变量，它指向对象<code>[]</code>，每次调用该函数，如果改变了<code>L</code>的内容，则下次调用时，默认参数的内容就变了，不再是函数定义时的<code>[]</code>。</p>
<p>**定义默认参数要牢记一点：默认参数必须指向<a href="PythonDataContainers.html#VariableAndInvariable">不变对象</a>！！</p>
<p>修改上面的例子，我们可以用<code>None</code>这个不变对象来实现：</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="PythonFunctionError.html#cb7-1"></a><span class="kw">def</span> add_end(L<span class="op">=</span><span class="va">None</span>):</span>
<span id="cb7-2"><a href="PythonFunctionError.html#cb7-2"></a>    <span class="cf">if</span> L <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb7-3"><a href="PythonFunctionError.html#cb7-3"></a>        L <span class="op">=</span> []</span>
<span id="cb7-4"><a href="PythonFunctionError.html#cb7-4"></a>    L.append(<span class="st">&#39;END&#39;</span>)</span>
<span id="cb7-5"><a href="PythonFunctionError.html#cb7-5"></a>    <span class="cf">return</span> L</span></code></pre></div>
<p>现在，无论调用多少次，都不会有问题：</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="PythonFunctionError.html#cb8-1"></a>add_end()</span>
<span id="cb8-2"><a href="PythonFunctionError.html#cb8-2"></a><span class="co"># [&#39;</span><span class="re">END</span><span class="co">&#39;]</span></span>
<span id="cb8-3"><a href="PythonFunctionError.html#cb8-3"></a>add_end()</span>
<span id="cb8-4"><a href="PythonFunctionError.html#cb8-4"></a><span class="co"># [&#39;</span><span class="re">END</span><span class="co">&#39;]</span></span></code></pre></div>
</div>
<div id="不定长位置参数" class="section level3" number="4.2.5">
<h3><span class="header-section-number">4.2.5</span> 不定长位置参数</h3>
<p>可变参数就是<strong>传入的参数个数是可变的</strong>，0、1、2或任意个。</p>
<p>可以分为：</p>
<ul>
<li><p>不定长位置形式参数：<code>def func(*args)</code></p></li>
<li><p>不定长关键字形式参数：<code>def func(**kwargs)</code></p></li>
</ul>
<p>首先看一下<strong>不定长位置形式参数</strong>：</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="PythonFunctionError.html#cb9-1"></a><span class="kw">def</span> func(<span class="op">*</span>args):</span>
<span id="cb9-2"><a href="PythonFunctionError.html#cb9-2"></a>    </span>
<span id="cb9-3"><a href="PythonFunctionError.html#cb9-3"></a>    result <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb9-4"><a href="PythonFunctionError.html#cb9-4"></a>    <span class="cf">for</span> value <span class="kw">in</span> args:</span>
<span id="cb9-5"><a href="PythonFunctionError.html#cb9-5"></a>        result <span class="op">+=</span> value</span>
<span id="cb9-6"><a href="PythonFunctionError.html#cb9-6"></a></span>
<span id="cb9-7"><a href="PythonFunctionError.html#cb9-7"></a>    <span class="bu">print</span>(args,<span class="bu">type</span>(args))  </span>
<span id="cb9-8"><a href="PythonFunctionError.html#cb9-8"></a>    <span class="co"># (1, 2, 3, 4, 5, 6, 7) &lt;class &#39;tuple&#39;&gt;</span></span>
<span id="cb9-9"><a href="PythonFunctionError.html#cb9-9"></a>    </span>
<span id="cb9-10"><a href="PythonFunctionError.html#cb9-10"></a>    <span class="cf">return</span> result</span>
<span id="cb9-11"><a href="PythonFunctionError.html#cb9-11"></a>    </span>
<span id="cb9-12"><a href="PythonFunctionError.html#cb9-12"></a><span class="co"># 调用函数</span></span>
<span id="cb9-13"><a href="PythonFunctionError.html#cb9-13"></a>func(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>)</span></code></pre></div>
<p><strong>总结</strong>：</p>
<ul>
<li><p>定义代码中使用一个<code>*</code></p></li>
<li><p>参数直接像位置参数一样传入函数</p></li>
<li><p>这一系列参数被存储到一个元组中</p></li>
</ul>
<p>具体来看一个例子：定义一个计算一组数字平方和的函数，如给定一组数字<code>a,b,c,d...</code>，计算<code>a^2+b^2+c^2+...</code></p>
<p>我们可以把传入的数字写成列表或元组的形式传入函数，再遍历以计算出结果，但是这样有点麻烦。利用可变参数，调用函数可以简化：</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="PythonFunctionError.html#cb10-1"></a><span class="kw">def</span> calc(<span class="op">*</span>numbers):</span>
<span id="cb10-2"><a href="PythonFunctionError.html#cb10-2"></a>    <span class="bu">sum</span> <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb10-3"><a href="PythonFunctionError.html#cb10-3"></a>    <span class="cf">for</span> n <span class="kw">in</span> numbers:</span>
<span id="cb10-4"><a href="PythonFunctionError.html#cb10-4"></a>        <span class="bu">sum</span> <span class="op">=</span> <span class="bu">sum</span> <span class="op">+</span> n<span class="op">*</span>n</span>
<span id="cb10-5"><a href="PythonFunctionError.html#cb10-5"></a>    <span class="cf">return</span> <span class="bu">sum</span></span>
<span id="cb10-6"><a href="PythonFunctionError.html#cb10-6"></a></span>
<span id="cb10-7"><a href="PythonFunctionError.html#cb10-7"></a>calc(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb10-8"><a href="PythonFunctionError.html#cb10-8"></a><span class="co"># 14</span></span>
<span id="cb10-9"><a href="PythonFunctionError.html#cb10-9"></a></span>
<span id="cb10-10"><a href="PythonFunctionError.html#cb10-10"></a>calc()</span>
<span id="cb10-11"><a href="PythonFunctionError.html#cb10-11"></a><span class="co"># 0</span></span>
<span id="cb10-12"><a href="PythonFunctionError.html#cb10-12"></a></span>
<span id="cb10-13"><a href="PythonFunctionError.html#cb10-13"></a><span class="co"># 还能这样传：python允许再list或tuple前面加一个*，把list或tuple的元素变成可变参数传进去</span></span>
<span id="cb10-14"><a href="PythonFunctionError.html#cb10-14"></a>nums <span class="op">=</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>]</span>
<span id="cb10-15"><a href="PythonFunctionError.html#cb10-15"></a>calc(<span class="op">*</span>nums)</span></code></pre></div>
</div>
<div id="不定长关键字参数" class="section level3" number="4.2.6">
<h3><span class="header-section-number">4.2.6</span> 不定长关键字参数</h3>
<p>如果我们想通过关键字向上面不定长位置函数中传入参数：</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="PythonFunctionError.html#cb11-1"></a><span class="kw">def</span> func(<span class="op">*</span>args):</span>
<span id="cb11-2"><a href="PythonFunctionError.html#cb11-2"></a>    </span>
<span id="cb11-3"><a href="PythonFunctionError.html#cb11-3"></a>    result <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb11-4"><a href="PythonFunctionError.html#cb11-4"></a>    <span class="cf">for</span> value <span class="kw">in</span> args:</span>
<span id="cb11-5"><a href="PythonFunctionError.html#cb11-5"></a>        result <span class="op">+=</span> value</span>
<span id="cb11-6"><a href="PythonFunctionError.html#cb11-6"></a></span>
<span id="cb11-7"><a href="PythonFunctionError.html#cb11-7"></a>    <span class="cf">return</span> result</span>
<span id="cb11-8"><a href="PythonFunctionError.html#cb11-8"></a>    </span>
<span id="cb11-9"><a href="PythonFunctionError.html#cb11-9"></a><span class="co"># 调用函数</span></span>
<span id="cb11-10"><a href="PythonFunctionError.html#cb11-10"></a>func(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,a<span class="op">=</span><span class="dv">7</span>)</span></code></pre></div>
<p>会发现报错：</p>
<pre><code>TypeError: func() got an unexpected keyword argument &#39;a&#39;</code></pre>
<p>根据报错提醒，函数中定义的是位置参数，而我们传入的却是关键字参数。更改的办法是重新定义关键字参数，基本形式是在函数定义时使用两个<code>**</code>，并且传入的关键字参数被存储到字典中。</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="PythonFunctionError.html#cb13-1"></a><span class="kw">def</span> func(<span class="op">**</span>kwargs):</span>
<span id="cb13-2"><a href="PythonFunctionError.html#cb13-2"></a>    </span>
<span id="cb13-3"><a href="PythonFunctionError.html#cb13-3"></a>    <span class="bu">print</span>(kwargs, <span class="bu">type</span>(kwargs)) <span class="co"># {&#39;a&#39;: 10, &#39;b&#39;: 20, &#39;c&#39;: 30} &lt;class &#39;dict&#39;&gt;</span></span>
<span id="cb13-4"><a href="PythonFunctionError.html#cb13-4"></a>    </span>
<span id="cb13-5"><a href="PythonFunctionError.html#cb13-5"></a>    <span class="cf">for</span> key, value <span class="kw">in</span> kwargs.items():</span>
<span id="cb13-6"><a href="PythonFunctionError.html#cb13-6"></a>        <span class="bu">print</span>(key, value)</span>
<span id="cb13-7"><a href="PythonFunctionError.html#cb13-7"></a>        <span class="co"># a 10</span></span>
<span id="cb13-8"><a href="PythonFunctionError.html#cb13-8"></a>        <span class="co"># b 20</span></span>
<span id="cb13-9"><a href="PythonFunctionError.html#cb13-9"></a>        <span class="co"># c 30</span></span>
<span id="cb13-10"><a href="PythonFunctionError.html#cb13-10"></a></span>
<span id="cb13-11"><a href="PythonFunctionError.html#cb13-11"></a>func(a<span class="op">=</span><span class="dv">10</span>,b<span class="op">=</span><span class="dv">20</span>,c<span class="op">=</span><span class="dv">30</span>)</span></code></pre></div>
</div>
<div id="命名关键字参数" class="section level3" number="4.2.7">
<h3><span class="header-section-number">4.2.7</span> 命名关键字参数</h3>
<p>对于不定长关键字参数，函数的调用者可以传入任意不受限制的关键字参数。至于到底传入了什么，就需要在函数内部通过<code>**kw</code>检查。</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="PythonFunctionError.html#cb14-1"></a><span class="kw">def</span> person(name, age, <span class="op">**</span>kw):</span>
<span id="cb14-2"><a href="PythonFunctionError.html#cb14-2"></a>    <span class="cf">if</span> <span class="st">&#39;city&#39;</span> <span class="kw">in</span> kw:</span>
<span id="cb14-3"><a href="PythonFunctionError.html#cb14-3"></a>        <span class="bu">print</span>(<span class="st">&quot;有city参数&quot;</span>)</span>
<span id="cb14-4"><a href="PythonFunctionError.html#cb14-4"></a>    <span class="cf">if</span> <span class="st">&#39;job&#39;</span> <span class="kw">in</span> kw:</span>
<span id="cb14-5"><a href="PythonFunctionError.html#cb14-5"></a>        <span class="bu">print</span>(<span class="st">&quot;有job参数&quot;</span>)</span>
<span id="cb14-6"><a href="PythonFunctionError.html#cb14-6"></a>    <span class="bu">print</span>(<span class="st">&#39;name:&#39;</span>,name,<span class="st">&#39;age:&#39;</span>,age,<span class="st">&#39;other:&#39;</span>,kw)</span></code></pre></div>
<p>但是调用者仍然可以传入不受限制的关键字参数：</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="PythonFunctionError.html#cb15-1"></a>person(<span class="st">&#39;Jack&#39;</span>,<span class="dv">24</span>,city<span class="op">=</span><span class="st">&#39;Beijing&#39;</span>,addr<span class="op">=</span><span class="st">&#39;Chaoyang&#39;</span>,zipcode<span class="op">=</span><span class="dv">12344</span>)</span>
<span id="cb15-2"><a href="PythonFunctionError.html#cb15-2"></a></span>
<span id="cb15-3"><a href="PythonFunctionError.html#cb15-3"></a><span class="co"># 有city参数</span></span>
<span id="cb15-4"><a href="PythonFunctionError.html#cb15-4"></a><span class="co"># name: Jack age: 24 other: {&#39;city&#39;: &#39;Beijing&#39;, &#39;addr&#39;: &#39;Chaoyang&#39;, &#39;zipcode&#39;: 12344}</span></span></code></pre></div>
<p>如果要限制关键字参数的名字，就可以用<strong>命名关键字参数</strong>，例如，只接受<code>city</code>和<code>job</code>作为关键字参数。关键字参数和<code>**kw</code>不同，命名关键字参数需要一个特殊的分隔符<code>*</code>，<code>*</code>后面的参数被视为命名关键字参数。</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="PythonFunctionError.html#cb16-1"></a><span class="kw">def</span> person(name,age,<span class="op">*</span>,city,job):</span>
<span id="cb16-2"><a href="PythonFunctionError.html#cb16-2"></a>    <span class="bu">print</span>(name,age,city,job)</span>
<span id="cb16-3"><a href="PythonFunctionError.html#cb16-3"></a></span>
<span id="cb16-4"><a href="PythonFunctionError.html#cb16-4"></a>person(<span class="st">&#39;Jack&#39;</span>,<span class="dv">24</span>,city<span class="op">=</span><span class="st">&#39;Beijing&#39;</span>,job<span class="op">=</span><span class="st">&#39;Engineer&#39;</span>)</span>
<span id="cb16-5"><a href="PythonFunctionError.html#cb16-5"></a><span class="co"># Jack 24 Beijing Engineer</span></span></code></pre></div>
<p>命名关键字参数在传参的时候一定要写成<code>参数名=?</code>的格式；</p>
<p>如果中间的<code>*</code>去掉了变成<code>def person(name,age,city,job)</code>，则四个参数都是<strong>位置参数</strong>。</p>
<p>如果函数定义中已经有了一个可变参数，后面跟着的命名关键字参数就不再需要一个特殊的分隔符<code>*</code>了：</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="PythonFunctionError.html#cb17-1"></a><span class="kw">def</span> person(<span class="op">*</span>args,city,job):</span>
<span id="cb17-2"><a href="PythonFunctionError.html#cb17-2"></a>    <span class="bu">print</span>(<span class="op">*</span>args,city,job)</span>
<span id="cb17-3"><a href="PythonFunctionError.html#cb17-3"></a></span>
<span id="cb17-4"><a href="PythonFunctionError.html#cb17-4"></a>person(<span class="st">&#39;Jack&#39;</span>,<span class="dv">24</span>,city<span class="op">=</span><span class="st">&#39;Beijing&#39;</span>,job<span class="op">=</span><span class="st">&#39;Engineer&#39;</span>)</span>
<span id="cb17-5"><a href="PythonFunctionError.html#cb17-5"></a><span class="co"># Jack 24 Beijing Engineer</span></span></code></pre></div>
</div>
<div id="参数组合" class="section level3" number="4.2.8">
<h3><span class="header-section-number">4.2.8</span> 参数组合</h3>
<p>python中定义函数，<strong>必选参数、默认参数、可变参数、关键字参数和命名关键字参数</strong>这5中参数可以组合使用。但是注意：</p>
<p><strong>参数定义的顺序：</strong>位置/必选参数 &gt; 默认参数 &gt; 可变参数 &gt; 命名关键字参数和关键字参数</p>
<p>如定义两个函数，每个函数均包含上述不同的参数类型：</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="PythonFunctionError.html#cb18-1"></a><span class="kw">def</span> f1(a,b,c<span class="op">=</span><span class="dv">0</span>,<span class="op">*</span>args,<span class="op">**</span>kw):</span>
<span id="cb18-2"><a href="PythonFunctionError.html#cb18-2"></a>    <span class="bu">print</span>(<span class="st">&#39;a =&#39;</span>,a,<span class="st">&#39;b =&#39;</span>,b,<span class="st">&#39;c =&#39;</span>,c,<span class="st">&#39;args =&#39;</span>,args,<span class="st">&#39;kw =&#39;</span>,kw)</span>
<span id="cb18-3"><a href="PythonFunctionError.html#cb18-3"></a>    </span>
<span id="cb18-4"><a href="PythonFunctionError.html#cb18-4"></a><span class="kw">def</span> f2(a,b,c<span class="op">=</span><span class="dv">0</span>,<span class="op">*</span>,d,<span class="op">**</span>kw):</span>
<span id="cb18-5"><a href="PythonFunctionError.html#cb18-5"></a>    <span class="bu">print</span>(<span class="st">&#39;a =&#39;</span>,a,<span class="st">&#39;b =&#39;</span>,b,<span class="st">&#39;c =&#39;</span>,c,<span class="st">&#39;d =&#39;</span>,d,<span class="st">&#39;kw =&#39;</span>,kw)</span></code></pre></div>
<p>观察调用后的输出：</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="PythonFunctionError.html#cb19-1"></a>f1(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,dog<span class="op">=</span><span class="dv">45</span>,cat<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb19-2"><a href="PythonFunctionError.html#cb19-2"></a><span class="co"># a = 1 b = 2 c = 3 args = (4, 5, 6) kw = {&#39;dog&#39;: 45, &#39;cat&#39;: 45}</span></span>
<span id="cb19-3"><a href="PythonFunctionError.html#cb19-3"></a></span>
<span id="cb19-4"><a href="PythonFunctionError.html#cb19-4"></a>f2(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,d<span class="op">=</span><span class="dv">4</span>,bird<span class="op">=</span><span class="dv">33</span>,width<span class="op">=</span><span class="dv">23</span>)</span>
<span id="cb19-5"><a href="PythonFunctionError.html#cb19-5"></a><span class="co"># a = 1 b = 2 c = 3 d = 4 kw = {&#39;bird&#39;: 33, &#39;width&#39;: 23}</span></span></code></pre></div>
</div>
</div>
<div id="函数返回值" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> 函数返回值</h2>
<div id="带有返回值的函数" class="section level3" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> 带有返回值的函数</h3>
<div class="sourceCode" id="cb20"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="PythonFunctionError.html#cb20-1"></a><span class="kw">def</span> cal(a,b):</span>
<span id="cb20-2"><a href="PythonFunctionError.html#cb20-2"></a>    c <span class="op">=</span> a <span class="op">+</span> b</span>
<span id="cb20-3"><a href="PythonFunctionError.html#cb20-3"></a>    <span class="cf">return</span> c</span>
<span id="cb20-4"><a href="PythonFunctionError.html#cb20-4"></a></span>
<span id="cb20-5"><a href="PythonFunctionError.html#cb20-5"></a><span class="co"># 调用函数，并保存返回值</span></span>
<span id="cb20-6"><a href="PythonFunctionError.html#cb20-6"></a>result <span class="op">=</span> cal(<span class="dv">100</span>,<span class="dv">98</span>)</span>
<span id="cb20-7"><a href="PythonFunctionError.html#cb20-7"></a><span class="bu">print</span>(result)</span>
<span id="cb20-8"><a href="PythonFunctionError.html#cb20-8"></a><span class="co"># 198</span></span></code></pre></div>
</div>
<div id="多个返回值" class="section level3" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> 多个返回值</h3>
<p><strong>(1) 多个return</strong></p>
<p>返回多个值，并不是设置多条独立的return语句，函数中第一个return后面的代码不会被执行。因为return除了能够将数据返回之外，还有一个隐藏功能就是结束函数。</p>
<p><strong>总结：</strong>
1）一个函数中可以有多个return，可以在不同的条件下执行不同的代码，并执行不同的return以返回不同情况下的结果；</p>
<p>2）同一层循环/条件下的多个return不会报错，但是只有第一个return才会被执行。</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="PythonFunctionError.html#cb21-1"></a><span class="kw">def</span> cal_nums(num):</span>
<span id="cb21-2"><a href="PythonFunctionError.html#cb21-2"></a>    <span class="bu">print</span>(<span class="st">&quot;-----1-----&quot;</span>)</span>
<span id="cb21-3"><a href="PythonFunctionError.html#cb21-3"></a>    <span class="cf">if</span> num <span class="op">==</span> <span class="dv">100</span>:</span>
<span id="cb21-4"><a href="PythonFunctionError.html#cb21-4"></a>        <span class="bu">print</span>(<span class="st">&quot;-----2-----&quot;</span>)</span>
<span id="cb21-5"><a href="PythonFunctionError.html#cb21-5"></a>        <span class="cf">return</span> num<span class="op">+</span><span class="dv">1</span></span>
<span id="cb21-6"><a href="PythonFunctionError.html#cb21-6"></a>    <span class="cf">else</span>:</span>
<span id="cb21-7"><a href="PythonFunctionError.html#cb21-7"></a>        <span class="bu">print</span>(<span class="st">&quot;-----3-----&quot;</span>)</span>
<span id="cb21-8"><a href="PythonFunctionError.html#cb21-8"></a>        <span class="cf">return</span> num<span class="op">+</span><span class="dv">2</span></span>
<span id="cb21-9"><a href="PythonFunctionError.html#cb21-9"></a>    <span class="bu">print</span>(<span class="st">&quot;-----4-----&quot;</span>)</span></code></pre></div>
<p><strong>(2) 一个函数返回多个数据的方式</strong></p>
<p>返回多个数据，return后面可以是元组、列表、字典等，只要是能够存储多个数据的类型，就可以一次性返回多个数据。</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="PythonFunctionError.html#cb22-1"></a><span class="kw">def</span> calculate(a,b):</span>
<span id="cb22-2"><a href="PythonFunctionError.html#cb22-2"></a>        shang <span class="op">=</span> a<span class="op">/</span>b</span>
<span id="cb22-3"><a href="PythonFunctionError.html#cb22-3"></a>        yushu <span class="op">=</span> a<span class="op">%</span>b</span>
<span id="cb22-4"><a href="PythonFunctionError.html#cb22-4"></a>        <span class="cf">return</span> shang, yushu <span class="co"># 默认是元组</span></span>
<span id="cb22-5"><a href="PythonFunctionError.html#cb22-5"></a>        </span>
<span id="cb22-6"><a href="PythonFunctionError.html#cb22-6"></a>result <span class="op">=</span> calculate(<span class="dv">5</span>,<span class="dv">2</span>)</span>
<span id="cb22-7"><a href="PythonFunctionError.html#cb22-7"></a><span class="bu">print</span>(result) </span>
<span id="cb22-8"><a href="PythonFunctionError.html#cb22-8"></a><span class="co"># (2,1)</span></span></code></pre></div>
</div>
</div>
<div id="递归函数" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> 递归函数</h2>
<div id="函数嵌套" class="section level3" number="4.4.1">
<h3><span class="header-section-number">4.4.1</span> 函数嵌套</h3>
<p>类似与条件语句中，if条件语句中还能嵌套if语句。同样的，函数内部也能嵌套函数。</p>
<p>思考：下面的语句中结果是什么？</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="PythonFunctionError.html#cb23-1"></a><span class="kw">def</span> func():</span>
<span id="cb23-2"><a href="PythonFunctionError.html#cb23-2"></a>    <span class="bu">print</span>(<span class="st">&quot;func&quot;</span>)</span>
<span id="cb23-3"><a href="PythonFunctionError.html#cb23-3"></a>    <span class="kw">def</span> show():</span>
<span id="cb23-4"><a href="PythonFunctionError.html#cb23-4"></a>        <span class="bu">print</span>(<span class="st">&quot;show&quot;</span>)</span>
<span id="cb23-5"><a href="PythonFunctionError.html#cb23-5"></a></span>
<span id="cb23-6"><a href="PythonFunctionError.html#cb23-6"></a>func()</span></code></pre></div>
<p>运行试试，发现输出结果只有<code>func</code>，这说明<code>show()</code>函数没有被调用。</p>
<p><strong>注意</strong>：一个函数必须要被调用了才会执行里面的语句，如果想要同时输出func和show，需要在<code>func()</code>函数内部调用<code>show()</code></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="PythonFunctionError.html#cb24-1"></a><span class="kw">def</span> func():</span>
<span id="cb24-2"><a href="PythonFunctionError.html#cb24-2"></a>    <span class="bu">print</span>(<span class="st">&quot;func&quot;</span>)</span>
<span id="cb24-3"><a href="PythonFunctionError.html#cb24-3"></a>    <span class="kw">def</span> show():</span>
<span id="cb24-4"><a href="PythonFunctionError.html#cb24-4"></a>        <span class="bu">print</span>(<span class="st">&quot;show&quot;</span>)</span>
<span id="cb24-5"><a href="PythonFunctionError.html#cb24-5"></a>    show()</span>
<span id="cb24-6"><a href="PythonFunctionError.html#cb24-6"></a></span>
<span id="cb24-7"><a href="PythonFunctionError.html#cb24-7"></a>func()</span>
<span id="cb24-8"><a href="PythonFunctionError.html#cb24-8"></a><span class="co"># func</span></span>
<span id="cb24-9"><a href="PythonFunctionError.html#cb24-9"></a><span class="co"># show</span></span></code></pre></div>
</div>
<div id="递归函数-1" class="section level3" number="4.4.2">
<h3><span class="header-section-number">4.4.2</span> 递归函数</h3>
<p>在函数内部，可以调用其他函数。如果一个函数在内部调用自身本身，这个函数就是<strong>递归函数</strong>。</p>
<p>比如计算<code>n!</code>，<code>n! = n(n-1)!</code>，只有<code>n=1</code>时需要特殊处理。</p>
<p>于是<code>fact(n)</code>用递归的方式写出来就是：</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb25-1"><a href="PythonFunctionError.html#cb25-1"></a><span class="kw">def</span> fact(n):</span>
<span id="cb25-2"><a href="PythonFunctionError.html#cb25-2"></a>        <span class="cf">if</span> n <span class="op">==</span> <span class="dv">1</span></span>
<span id="cb25-3"><a href="PythonFunctionError.html#cb25-3"></a>                <span class="cf">return</span> <span class="dv">1</span></span>
<span id="cb25-4"><a href="PythonFunctionError.html#cb25-4"></a>        <span class="cf">return</span> n <span class="op">*</span> fact(n<span class="dv">-1</span>)</span></code></pre></div>
<p>以上就是一个递归函数，测试一下：</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb26-1"><a href="PythonFunctionError.html#cb26-1"></a>fact(<span class="dv">1</span>)</span>
<span id="cb26-2"><a href="PythonFunctionError.html#cb26-2"></a><span class="co"># 1</span></span>
<span id="cb26-3"><a href="PythonFunctionError.html#cb26-3"></a></span>
<span id="cb26-4"><a href="PythonFunctionError.html#cb26-4"></a>fact(<span class="dv">3</span>)</span>
<span id="cb26-5"><a href="PythonFunctionError.html#cb26-5"></a><span class="co"># 6</span></span></code></pre></div>
</div>
<div id="栈溢出" class="section level3" number="4.4.3">
<h3><span class="header-section-number">4.4.3</span> 栈溢出</h3>
<p>递归函数的有点事定义简单，逻辑清晰。理论上，所有的递归函数都可以写成循环的方式，但循环的逻辑不如递归清晰。</p>
<p>使用递归函数需要<strong>注意</strong>防止栈溢出。在计算机中，函数调用是通过栈（stack）这种数据结构实现的，每当进入一个函数调用，栈就会加一层栈帧，每当函数返回，栈就会减一层栈帧。由于栈的大小不是无限的，所以，递归调用的次数过多，就会栈溢出。可以试试fact(10000):</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="PythonFunctionError.html#cb27-1"></a>fact(<span class="dv">10000</span>)</span>
<span id="cb27-2"><a href="PythonFunctionError.html#cb27-2"></a></span>
<span id="cb27-3"><a href="PythonFunctionError.html#cb27-3"></a><span class="co"># RecursionError: maximum recursion depth exceeded in comparison</span></span></code></pre></div>
</div>
<div id="尾递归" class="section level3" number="4.4.4">
<h3><span class="header-section-number">4.4.4</span> 尾递归</h3>
<p>解决递归调用栈溢出的方法是通过<strong>尾递归</strong>优化，事实上尾递归和循环的效果是一样的，所以，把循环看成是一种特殊的尾递归函数也是可以的。</p>
<p><strong>尾递归</strong>是指，在函数返回的时候，调用自身，并且，<code>return</code>语句不能包含表达式。这样，编译器或者解释器就可以把尾递归做优化，使递归本身无论调用多少次，都只占用一个栈，不会出现栈溢出的情况。</p>
<p>上面的<code>fact(n)</code>函数由于<code>return n*fact(n-1)</code>引入了乘法表达式，所以就不是尾递归了。要改成尾递归的方式，需要多一点代码，主要是把每一步的乘积传入到递归函数中：</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="PythonFunctionError.html#cb28-1"></a><span class="kw">def</span> fact(n):</span>
<span id="cb28-2"><a href="PythonFunctionError.html#cb28-2"></a>        <span class="cf">return</span> fact_iter(n,<span class="dv">1</span>)</span>
<span id="cb28-3"><a href="PythonFunctionError.html#cb28-3"></a>        </span>
<span id="cb28-4"><a href="PythonFunctionError.html#cb28-4"></a><span class="kw">def</span> fact_iter(num, product):</span>
<span id="cb28-5"><a href="PythonFunctionError.html#cb28-5"></a>        <span class="cf">if</span> num <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb28-6"><a href="PythonFunctionError.html#cb28-6"></a>                <span class="cf">return</span> product</span>
<span id="cb28-7"><a href="PythonFunctionError.html#cb28-7"></a>        <span class="cf">return</span> fact_iter(num<span class="dv">-1</span>, num<span class="op">*</span>product)</span></code></pre></div>
<p>可以看到，<code>fact_iter(num-1, num*product)</code>仅返回递归函数本身，<code>num-1</code>和<code>num*product</code>在函数调用前就会被计算，不会影响函数调用。</p>
<p><code>fact(5)</code>对用的<code>fact_iter()</code>函数调用如下：</p>
<pre><code>===&gt; fact_iter(5,1)
===&gt; fact_iter(4,5)
===&gt; fact_iter(3,20)
===&gt; fact_iter(2,60)
===&gt; fact_iter(1,120)
===&gt; 120</code></pre>
<p>尾递归调用时，如果做了优化，栈不会增长。因此，无论多少次调用不会造成栈溢出。</p>
<p>遗憾的是，大多数编程语言没有针对尾递归做优化。Python解释器也没有做优化。所以，即使把上面的<code>fact(n)</code>函数改成尾递归方式，也会造成栈溢出。</p>
<p><strong>小结</strong>
* 使用递归函数的有点事逻辑简单清晰，缺点是过深的调用会造成栈溢出；</p>
<ul>
<li><p>针对尾递归优化的语言可以通过尾递归防止栈溢出。尾递归事实上和循环是等价的，没有循环语句的变成语言只能通过尾递归实现循环；</p></li>
<li><p>Python标准的解释器没有针对尾递归做优化，任何递归函数都存在栈溢出的问题。</p></li>
</ul>
</div>
</div>
<div id="局部变量与全局变量" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> 局部变量与全局变量</h2>
<div id="局部变量" class="section level3" number="4.5.1">
<h3><span class="header-section-number">4.5.1</span> 局部变量</h3>
<ul>
<li><p><strong>局部变量</strong>，就是在函数内部定义的变量。</p></li>
<li><p><strong>作用范围</strong>是这个函数内部，即只能在这个函数中使用，在函数外部是不能使用的。因为起作用范围只是在自己的函数内部，所以不同的函数可以定义相同名字的局部变量。</p></li>
<li><p><strong>局部变量的作用</strong>，为了临时保存数据需要在函数中定义变量来进行存储。</p></li>
<li><p>当函数调用时，局部变量被创建，当函数调用完成后这个变量就不能使用了。</p></li>
</ul>
</div>
<div id="全局变量" class="section level3" number="4.5.2">
<h3><span class="header-section-number">4.5.2</span> 全局变量</h3>
<p>如果一个变量，即能在一个函数中使用，也能在其他函数中使用，这样的变量就是<strong>全局变量</strong>。</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb30-1"><a href="PythonFunctionError.html#cb30-1"></a><span class="co"># 定义全局变量</span></span>
<span id="cb30-2"><a href="PythonFunctionError.html#cb30-2"></a>money <span class="op">=</span> <span class="dv">1200</span></span>
<span id="cb30-3"><a href="PythonFunctionError.html#cb30-3"></a></span>
<span id="cb30-4"><a href="PythonFunctionError.html#cb30-4"></a><span class="kw">def</span> test1():</span>
<span id="cb30-5"><a href="PythonFunctionError.html#cb30-5"></a>        <span class="bu">print</span>(money) <span class="co"># 虽然没有定义变量money但是可以使用全局变量中的money</span></span>
<span id="cb30-6"><a href="PythonFunctionError.html#cb30-6"></a>        </span>
<span id="cb30-7"><a href="PythonFunctionError.html#cb30-7"></a><span class="kw">def</span> test2():</span>
<span id="cb30-8"><a href="PythonFunctionError.html#cb30-8"></a>        <span class="bu">print</span>(money) <span class="co"># 全局变量可以在不同函数中被调用</span></span>
<span id="cb30-9"><a href="PythonFunctionError.html#cb30-9"></a>        </span>
<span id="cb30-10"><a href="PythonFunctionError.html#cb30-10"></a><span class="co"># 调用函数</span></span>
<span id="cb30-11"><a href="PythonFunctionError.html#cb30-11"></a>test1()</span>
<span id="cb30-12"><a href="PythonFunctionError.html#cb30-12"></a>test2()</span></code></pre></div>
</div>
<div id="全局变量和局部变量冲突问题" class="section level3" number="4.5.3">
<h3><span class="header-section-number">4.5.3</span> 全局变量和局部变量冲突问题</h3>
<p><strong>代码：</strong></p>
<div class="sourceCode" id="cb31"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb31-1"><a href="PythonFunctionError.html#cb31-1"></a><span class="co"># 定义全局变量</span></span>
<span id="cb31-2"><a href="PythonFunctionError.html#cb31-2"></a>x <span class="op">=</span> <span class="dv">100</span></span>
<span id="cb31-3"><a href="PythonFunctionError.html#cb31-3"></a></span>
<span id="cb31-4"><a href="PythonFunctionError.html#cb31-4"></a><span class="kw">def</span> test1():</span>
<span id="cb31-5"><a href="PythonFunctionError.html#cb31-5"></a>        <span class="co"># 定义局部变量，与全局变量名字相同</span></span>
<span id="cb31-6"><a href="PythonFunctionError.html#cb31-6"></a>        x <span class="op">=</span> <span class="dv">300</span></span>
<span id="cb31-7"><a href="PythonFunctionError.html#cb31-7"></a>        <span class="bu">print</span>(<span class="st">&quot;---test1---</span><span class="sc">%d</span><span class="st">&quot;</span><span class="op">%</span>x)</span>
<span id="cb31-8"><a href="PythonFunctionError.html#cb31-8"></a>        <span class="co"># 修改</span></span>
<span id="cb31-9"><a href="PythonFunctionError.html#cb31-9"></a>        x <span class="op">=</span> <span class="dv">200</span></span>
<span id="cb31-10"><a href="PythonFunctionError.html#cb31-10"></a>        <span class="bu">print</span>(<span class="st">&quot;修改后的</span><span class="sc">%d</span><span class="st">&quot;</span><span class="op">%</span>x)</span>
<span id="cb31-11"><a href="PythonFunctionError.html#cb31-11"></a></span>
<span id="cb31-12"><a href="PythonFunctionError.html#cb31-12"></a><span class="kw">def</span> test2():</span>
<span id="cb31-13"><a href="PythonFunctionError.html#cb31-13"></a>        <span class="bu">print</span>(<span class="st">&quot;x = </span><span class="sc">%d</span><span class="st">&quot;</span><span class="op">%</span>x)</span>
<span id="cb31-14"><a href="PythonFunctionError.html#cb31-14"></a>        </span>
<span id="cb31-15"><a href="PythonFunctionError.html#cb31-15"></a>test1()</span>
<span id="cb31-16"><a href="PythonFunctionError.html#cb31-16"></a>test2()</span>
<span id="cb31-17"><a href="PythonFunctionError.html#cb31-17"></a></span>
<span id="cb31-18"><a href="PythonFunctionError.html#cb31-18"></a><span class="co"># 结果</span></span>
<span id="cb31-19"><a href="PythonFunctionError.html#cb31-19"></a><span class="op">---</span>test1<span class="op">---</span><span class="dv">300</span></span>
<span id="cb31-20"><a href="PythonFunctionError.html#cb31-20"></a>修改后的200</span>
<span id="cb31-21"><a href="PythonFunctionError.html#cb31-21"></a>x <span class="op">=</span> <span class="dv">100</span></span></code></pre></div>
<p><strong>总结：</strong>当函数内部出现局部变量和全局变量相同名字时，函数内部中的<code>变量名 = 数据</code>此时理解为定义了一个局部变量，而不是修改全局变量的值。</p>
</div>
<div id="修改全局变量" class="section level3" number="4.5.4">
<h3><span class="header-section-number">4.5.4</span> 修改全局变量</h3>
<p>函数中进行使用<strong>全局变量</strong>时是否进行修改呢？</p>
<p>可以使用<code>global</code>来声明变量为全局变量。</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb32-1"><a href="PythonFunctionError.html#cb32-1"></a><span class="co"># 定义全局变量</span></span>
<span id="cb32-2"><a href="PythonFunctionError.html#cb32-2"></a>x <span class="op">=</span> <span class="dv">100</span></span>
<span id="cb32-3"><a href="PythonFunctionError.html#cb32-3"></a></span>
<span id="cb32-4"><a href="PythonFunctionError.html#cb32-4"></a><span class="kw">def</span> test1():</span>
<span id="cb32-5"><a href="PythonFunctionError.html#cb32-5"></a>        <span class="co"># 定义全局变量，使用global函数声明变量x为全局变量</span></span>
<span id="cb32-6"><a href="PythonFunctionError.html#cb32-6"></a>        <span class="kw">global</span> x</span>
<span id="cb32-7"><a href="PythonFunctionError.html#cb32-7"></a>        <span class="bu">print</span>(<span class="st">&quot;修改之前：</span><span class="sc">%d</span><span class="st">&quot;</span><span class="op">%</span>x)</span>
<span id="cb32-8"><a href="PythonFunctionError.html#cb32-8"></a>        </span>
<span id="cb32-9"><a href="PythonFunctionError.html#cb32-9"></a>        <span class="co"># 修改</span></span>
<span id="cb32-10"><a href="PythonFunctionError.html#cb32-10"></a>        x <span class="op">=</span> <span class="dv">200</span></span>
<span id="cb32-11"><a href="PythonFunctionError.html#cb32-11"></a>        <span class="bu">print</span>(<span class="st">&quot;修改之后：</span><span class="sc">%d</span><span class="st">&quot;</span><span class="op">%</span>x)</span>
<span id="cb32-12"><a href="PythonFunctionError.html#cb32-12"></a></span>
<span id="cb32-13"><a href="PythonFunctionError.html#cb32-13"></a><span class="kw">def</span> test2():</span>
<span id="cb32-14"><a href="PythonFunctionError.html#cb32-14"></a>        <span class="bu">print</span>(<span class="st">&quot;x = </span><span class="sc">%d</span><span class="st">&quot;</span><span class="op">%</span>x)</span>
<span id="cb32-15"><a href="PythonFunctionError.html#cb32-15"></a>        </span>
<span id="cb32-16"><a href="PythonFunctionError.html#cb32-16"></a><span class="co"># 调用函数</span></span>
<span id="cb32-17"><a href="PythonFunctionError.html#cb32-17"></a>test1()</span>
<span id="cb32-18"><a href="PythonFunctionError.html#cb32-18"></a>test2()</span>
<span id="cb32-19"><a href="PythonFunctionError.html#cb32-19"></a></span>
<span id="cb32-20"><a href="PythonFunctionError.html#cb32-20"></a><span class="co"># 结果</span></span>
<span id="cb32-21"><a href="PythonFunctionError.html#cb32-21"></a>修改之前：<span class="dv">100</span></span>
<span id="cb32-22"><a href="PythonFunctionError.html#cb32-22"></a>修改之后：<span class="dv">200</span></span>
<span id="cb32-23"><a href="PythonFunctionError.html#cb32-23"></a>x <span class="op">=</span> <span class="dv">200</span></span></code></pre></div>
</div>
</div>
<div id="捕获异常" class="section level2" number="4.6">
<h2><span class="header-section-number">4.6</span> 捕获异常</h2>
<p><strong>异常</strong>：当前使用python解释器去执行代码的时候，遇到了错误，在控制台输出错误信息，这个错误信息就是异常</p>
<p>一旦错误，还要一级一级上报，知道某个函数可以处理该错误。高级语言通常都内置了一套<code>try...wxcept...finally...</code>的<strong>错误处理机制</strong>，python也不例外：</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb33-1"><a href="PythonFunctionError.html#cb33-1"></a><span class="cf">try</span>:</span>
<span id="cb33-2"><a href="PythonFunctionError.html#cb33-2"></a>    <span class="bu">print</span>(<span class="st">&quot;try...&quot;</span>)</span>
<span id="cb33-3"><a href="PythonFunctionError.html#cb33-3"></a>    r <span class="op">=</span> <span class="dv">10</span><span class="op">/</span><span class="dv">0</span></span>
<span id="cb33-4"><a href="PythonFunctionError.html#cb33-4"></a>    <span class="bu">print</span>(<span class="st">&quot;result:&quot;</span>,r) <span class="co"># 不会被执行</span></span>
<span id="cb33-5"><a href="PythonFunctionError.html#cb33-5"></a><span class="cf">except</span> <span class="pp">ZeroDivisionError</span> <span class="im">as</span> e:</span>
<span id="cb33-6"><a href="PythonFunctionError.html#cb33-6"></a>    <span class="bu">print</span>(<span class="st">&quot;except:&quot;</span>,e)</span>
<span id="cb33-7"><a href="PythonFunctionError.html#cb33-7"></a><span class="cf">finally</span>:</span>
<span id="cb33-8"><a href="PythonFunctionError.html#cb33-8"></a>    <span class="bu">print</span>(<span class="st">&quot;finally...&quot;</span>)</span>
<span id="cb33-9"><a href="PythonFunctionError.html#cb33-9"></a><span class="bu">print</span>(<span class="st">&quot;END&quot;</span>)</span></code></pre></div>
<p>当我们认为某些代码可能会出错时，就可以用<code>try</code>来运行这段代码，如果执行出错，则<strong>后续代码不会继续执行</strong>，而是直接跳转至错误处理代码，即<code>except</code>语句块，执行完<code>except</code>后，如果有<code>finally</code>语句块，则执行<code>finally</code>语句块，至此，执行完毕。</p>
<p>上面的代码在计算<code>10/0</code>时会产生以恶搞运算错误：</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb34-1"><a href="PythonFunctionError.html#cb34-1"></a><span class="cf">try</span>...</span>
<span id="cb34-2"><a href="PythonFunctionError.html#cb34-2"></a><span class="cf">except</span>:division by zero</span>
<span id="cb34-3"><a href="PythonFunctionError.html#cb34-3"></a><span class="cf">finally</span>...</span>
<span id="cb34-4"><a href="PythonFunctionError.html#cb34-4"></a>END</span></code></pre></div>
<p><code>print("result:",r)</code>不会执行，把除数0改成2之后，执行结果如下：</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb35-1"><a href="PythonFunctionError.html#cb35-1"></a><span class="cf">try</span>...</span>
<span id="cb35-2"><a href="PythonFunctionError.html#cb35-2"></a>result: <span class="dv">5</span></span>
<span id="cb35-3"><a href="PythonFunctionError.html#cb35-3"></a><span class="cf">finally</span>...</span>
<span id="cb35-4"><a href="PythonFunctionError.html#cb35-4"></a>END</span></code></pre></div>
<div id="错误种类" class="section level3" number="4.6.1">
<h3><span class="header-section-number">4.6.1</span> 错误种类</h3>
<p>错误的种类有很多，如果发生不同类型的错误，应该由不同的<code>except</code>语句块处理。</p>
<p>int()函数可能会抛出<code>valueError</code></p>
<p>除数为0可能会抛出运算错误<code>ZeroDivisionError</code></p>
<p>变量a如果没有事先定义可能会抛出<code>NameError</code></p>
<p>分别用对应的except来捕获不同类型的错误。</p>
<p>此外，如果没有错误发生，可以在<code>except</code>语句块后面加一个<code>else</code>，当没有错误发生时，会自动执行<code>else</code>语句：</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb36-1"><a href="PythonFunctionError.html#cb36-1"></a><span class="cf">try</span>:</span>
<span id="cb36-2"><a href="PythonFunctionError.html#cb36-2"></a>        <span class="bu">print</span>(<span class="st">&#39;try...&#39;</span>)</span>
<span id="cb36-3"><a href="PythonFunctionError.html#cb36-3"></a>        r <span class="op">=</span> <span class="dv">10</span> <span class="op">/</span> <span class="bu">int</span>(a)</span>
<span id="cb36-4"><a href="PythonFunctionError.html#cb36-4"></a>        <span class="bu">print</span>(<span class="st">&#39;result:&#39;</span>,r)</span>
<span id="cb36-5"><a href="PythonFunctionError.html#cb36-5"></a><span class="cf">except</span> valueError <span class="im">as</span> e:</span>
<span id="cb36-6"><a href="PythonFunctionError.html#cb36-6"></a>        <span class="bu">print</span>(<span class="st">&#39;valueError:&#39;</span>,e)</span>
<span id="cb36-7"><a href="PythonFunctionError.html#cb36-7"></a><span class="cf">except</span> <span class="pp">ZeroDivisionError</span> <span class="im">as</span> e:</span>
<span id="cb36-8"><a href="PythonFunctionError.html#cb36-8"></a>        <span class="bu">print</span>(<span class="st">&#39;ZeroDivisionError:&#39;</span>,e)</span>
<span id="cb36-9"><a href="PythonFunctionError.html#cb36-9"></a><span class="cf">except</span> <span class="pp">NameError</span> <span class="im">as</span> e:</span>
<span id="cb36-10"><a href="PythonFunctionError.html#cb36-10"></a>        <span class="bu">print</span>(<span class="st">&#39;NameError:&#39;</span>,e)</span>
<span id="cb36-11"><a href="PythonFunctionError.html#cb36-11"></a><span class="cf">else</span>:</span>
<span id="cb36-12"><a href="PythonFunctionError.html#cb36-12"></a>        <span class="bu">print</span>(<span class="st">&#39;No Error&#39;</span>)</span>
<span id="cb36-13"><a href="PythonFunctionError.html#cb36-13"></a><span class="cf">finally</span>:</span>
<span id="cb36-14"><a href="PythonFunctionError.html#cb36-14"></a>        <span class="bu">print</span>(<span class="st">&#39;Finally&#39;</span>)</span>
<span id="cb36-15"><a href="PythonFunctionError.html#cb36-15"></a><span class="bu">print</span>(<span class="st">&#39;END&#39;</span>)</span></code></pre></div>
<p>python的错误其实也是<code>class</code>，所有的错误类型都继承自<code>BaseException</code>，所以在使用<code>except</code>时需要注意的是，它不但捕获该类型的错误，还把其子类也‘一网打尽’，比如：</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb37-1"><a href="PythonFunctionError.html#cb37-1"></a><span class="cf">try</span>:</span>
<span id="cb37-2"><a href="PythonFunctionError.html#cb37-2"></a>        foo()</span>
<span id="cb37-3"><a href="PythonFunctionError.html#cb37-3"></a><span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb37-4"><a href="PythonFunctionError.html#cb37-4"></a>        <span class="bu">print</span>(<span class="st">&#39;Exception&#39;</span>)</span>
<span id="cb37-5"><a href="PythonFunctionError.html#cb37-5"></a><span class="cf">except</span> <span class="pp">TypeError</span> <span class="im">as</span> e:</span>
<span id="cb37-6"><a href="PythonFunctionError.html#cb37-6"></a>        <span class="bu">print</span>(<span class="st">&#39;TyprError&#39;</span>)</span>
<span id="cb37-7"><a href="PythonFunctionError.html#cb37-7"></a><span class="cf">finally</span>:</span>
<span id="cb37-8"><a href="PythonFunctionError.html#cb37-8"></a>        <span class="bu">print</span>(<span class="st">&#39;Finally...&#39;</span>)</span></code></pre></div>
<p>第二个<code>except</code>永远也捕获不到<code>TypeError</code>，因为TypeError是Exception的子类，如果有，也被第一个except给捕获了。</p>
<p>Python所有的错误都是从<code>BaseException</code>类派生的，<a href="https://docs.python.org/3/library/exceptions.html#exception-hierarchy">常见的错误类型和继承关系看这里</a></p>
<p>使用<code>try...except...</code>捕获错误有一个巨大的好处，就是可以跨越多层调用，比如<code>main()</code>调用了<code>foo()</code>，<code>foo()</code>调用了<code>bar()</code>，结果<code>bar()</code>出错了，这时，只要<code>main()</code>捕获到了，就可以处理：</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb38-1"><a href="PythonFunctionError.html#cb38-1"></a><span class="kw">def</span> foo(s):</span>
<span id="cb38-2"><a href="PythonFunctionError.html#cb38-2"></a>        <span class="cf">return</span> <span class="dv">10</span><span class="op">/</span><span class="bu">int</span>(s)</span>
<span id="cb38-3"><a href="PythonFunctionError.html#cb38-3"></a></span>
<span id="cb38-4"><a href="PythonFunctionError.html#cb38-4"></a><span class="kw">def</span> bar(s):</span>
<span id="cb38-5"><a href="PythonFunctionError.html#cb38-5"></a>        <span class="cf">return</span> foo(s) <span class="op">*</span> <span class="dv">2</span></span>
<span id="cb38-6"><a href="PythonFunctionError.html#cb38-6"></a></span>
<span id="cb38-7"><a href="PythonFunctionError.html#cb38-7"></a><span class="kw">def</span> main():</span>
<span id="cb38-8"><a href="PythonFunctionError.html#cb38-8"></a>        <span class="cf">try</span>:</span>
<span id="cb38-9"><a href="PythonFunctionError.html#cb38-9"></a>                bar(<span class="st">&#39;0&#39;</span>)</span>
<span id="cb38-10"><a href="PythonFunctionError.html#cb38-10"></a>        <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb38-11"><a href="PythonFunctionError.html#cb38-11"></a>                <span class="bu">print</span>(<span class="st">&#39;Error:&#39;</span>,e)</span>
<span id="cb38-12"><a href="PythonFunctionError.html#cb38-12"></a>        <span class="cf">finally</span>:</span>
<span id="cb38-13"><a href="PythonFunctionError.html#cb38-13"></a>                <span class="bu">print</span>(<span class="st">&#39;Finally...&#39;</span>)</span>
<span id="cb38-14"><a href="PythonFunctionError.html#cb38-14"></a></span>
<span id="cb38-15"><a href="PythonFunctionError.html#cb38-15"></a>main()</span></code></pre></div>
<p>也就是说，不需要在每个可能出错的地方都去捕获错误，只要在合适的层次去捕获错误就好了，这样，可以大大减少写<code>try...except...finally</code>。</p>
</div>
<div id="PythonError" class="section level3" number="4.6.2">
<h3><span class="header-section-number">4.6.2</span> Python所有的标准异常类</h3>
<table>
<caption><span id="tab:unnamed-chunk-1">Table 4.1: </span>Python所有的标准异常类</caption>
<thead>
<tr class="header">
<th align="left">异常名称</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">BaseException</td>
<td align="left">所有异常的基类</td>
</tr>
<tr class="even">
<td align="left">SystemExit</td>
<td align="left">Python解释器请求退出</td>
</tr>
<tr class="odd">
<td align="left">KeyboardInterrupt</td>
<td align="left">用户终端执行（通常是输入^C）</td>
</tr>
<tr class="even">
<td align="left">Exception</td>
<td align="left">常见错误的基类</td>
</tr>
<tr class="odd">
<td align="left">StopIteration</td>
<td align="left">迭代器没有更多的值</td>
</tr>
<tr class="even">
<td align="left">GeneratorExit</td>
<td align="left">生成器（generator）发生异常来通知退出</td>
</tr>
<tr class="odd">
<td align="left">StandardError</td>
<td align="left">所有的内建标准异常的基类</td>
</tr>
<tr class="even">
<td align="left">ArithmeticError</td>
<td align="left">所有数值计算错误的基类</td>
</tr>
<tr class="odd">
<td align="left">FloatingPointError</td>
<td align="left">浮点计算错误</td>
</tr>
<tr class="even">
<td align="left">OverflowError</td>
<td align="left">数值运算超出最大限制</td>
</tr>
<tr class="odd">
<td align="left">ZeroDivisionError</td>
<td align="left">除/取模零（所有数据类型）</td>
</tr>
<tr class="even">
<td align="left">AssertionError</td>
<td align="left">断言语句失败</td>
</tr>
<tr class="odd">
<td align="left">AtributeError</td>
<td align="left">对象没有这个属性</td>
</tr>
<tr class="even">
<td align="left">EOFError</td>
<td align="left">没有内建输入，到达EOF标记</td>
</tr>
<tr class="odd">
<td align="left">environmentError</td>
<td align="left">操作系统错误的基类</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="练习-2" class="section level2" number="4.7">
<h2><span class="header-section-number">4.7</span> 练习</h2>
<div id="保留小数封装成函数" class="section level3" number="4.7.1">
<h3><span class="header-section-number">4.7.1</span> 保留小数封装成函数</h3>
<p>将数保留至三位小数（不需要四舍五入）</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb39-1"><a href="PythonFunctionError.html#cb39-1"></a><span class="kw">def</span> cut():</span>
<span id="cb39-2"><a href="PythonFunctionError.html#cb39-2"></a>    num <span class="op">=</span> <span class="bu">float</span>(<span class="bu">input</span>(<span class="st">&quot;请输入想要转化的小数：&quot;</span>))</span>
<span id="cb39-3"><a href="PythonFunctionError.html#cb39-3"></a>    n <span class="op">=</span> <span class="bu">int</span>(<span class="bu">input</span>(<span class="st">&quot;保留几位小数：&quot;</span>))</span>
<span id="cb39-4"><a href="PythonFunctionError.html#cb39-4"></a>    m <span class="op">=</span> <span class="dv">10</span><span class="op">**</span>n</span>
<span id="cb39-5"><a href="PythonFunctionError.html#cb39-5"></a>    <span class="cf">return</span> <span class="bu">int</span>(num<span class="op">*</span>m)<span class="op">/</span>m</span>
<span id="cb39-6"><a href="PythonFunctionError.html#cb39-6"></a></span>
<span id="cb39-7"><a href="PythonFunctionError.html#cb39-7"></a>cut()</span></code></pre></div>
</div>
<div id="字符串组成统计" class="section level3" number="4.7.2">
<h3><span class="header-section-number">4.7.2</span> 字符串组成统计</h3>
<p>定义一个函数， 统计字符串中有几个字母，几个数字，几个空格，几个其他字符，并返回结果</p>
<p><strong>提示：</strong></p>
<div class="sourceCode" id="cb40"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb40-1"><a href="PythonFunctionError.html#cb40-1"></a>遍历 <span class="cf">for</span> </span>
<span id="cb40-2"><a href="PythonFunctionError.html#cb40-2"></a>判断 <span class="cf">if</span> </span>
<span id="cb40-3"><a href="PythonFunctionError.html#cb40-3"></a>    isdigit()</span>
<span id="cb40-4"><a href="PythonFunctionError.html#cb40-4"></a>    isalpha()</span>
<span id="cb40-5"><a href="PythonFunctionError.html#cb40-5"></a>    isspace()</span>
<span id="cb40-6"><a href="PythonFunctionError.html#cb40-6"></a><span class="bu">unicode</span>  <span class="st">&#39;</span><span class="ch">\u4e00</span><span class="st">&#39;</span><span class="op">-</span> <span class="st">&#39;</span><span class="ch">\u9fff</span><span class="st">&#39;</span></span>
<span id="cb40-7"><a href="PythonFunctionError.html#cb40-7"></a>dic <span class="op">=</span> {<span class="st">&#39;num&#39;</span>:<span class="dv">0</span>,<span class="st">&#39;alpha&#39;</span>:<span class="dv">0</span>, <span class="st">&#39;space&#39;</span>:<span class="dv">0</span>,<span class="st">&#39;other&#39;</span>:<span class="dv">0</span>}</span></code></pre></div>
<div class="sourceCode" id="cb41"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb41-1"><a href="PythonFunctionError.html#cb41-1"></a><span class="kw">def</span> func(s):</span>
<span id="cb41-2"><a href="PythonFunctionError.html#cb41-2"></a>    dic <span class="op">=</span> {<span class="st">&#39;num&#39;</span>:<span class="dv">0</span>,</span>
<span id="cb41-3"><a href="PythonFunctionError.html#cb41-3"></a>            <span class="st">&#39;alpha&#39;</span>:<span class="dv">0</span>,</span>
<span id="cb41-4"><a href="PythonFunctionError.html#cb41-4"></a>            <span class="st">&#39;space&#39;</span>:<span class="dv">0</span>,</span>
<span id="cb41-5"><a href="PythonFunctionError.html#cb41-5"></a>           <span class="st">&#39;other&#39;</span>:<span class="dv">0</span>}</span>
<span id="cb41-6"><a href="PythonFunctionError.html#cb41-6"></a>    <span class="cf">for</span> i <span class="kw">in</span> s:</span>
<span id="cb41-7"><a href="PythonFunctionError.html#cb41-7"></a>        </span>
<span id="cb41-8"><a href="PythonFunctionError.html#cb41-8"></a>        <span class="cf">if</span> i.isdigit(): <span class="co"># 数字</span></span>
<span id="cb41-9"><a href="PythonFunctionError.html#cb41-9"></a>            dic[<span class="st">&#39;num&#39;</span>] <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb41-10"><a href="PythonFunctionError.html#cb41-10"></a>            </span>
<span id="cb41-11"><a href="PythonFunctionError.html#cb41-11"></a>        <span class="cf">elif</span> i.isalpha(): <span class="co"># 字母</span></span>
<span id="cb41-12"><a href="PythonFunctionError.html#cb41-12"></a>            dic[<span class="st">&#39;alpha&#39;</span>] <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb41-13"><a href="PythonFunctionError.html#cb41-13"></a>            </span>
<span id="cb41-14"><a href="PythonFunctionError.html#cb41-14"></a>        <span class="cf">elif</span> i.isspace(): <span class="co"># 空格</span></span>
<span id="cb41-15"><a href="PythonFunctionError.html#cb41-15"></a>            dic[<span class="st">&#39;space&#39;</span>] <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb41-16"><a href="PythonFunctionError.html#cb41-16"></a>        </span>
<span id="cb41-17"><a href="PythonFunctionError.html#cb41-17"></a>        <span class="cf">else</span>:</span>
<span id="cb41-18"><a href="PythonFunctionError.html#cb41-18"></a>            dic[<span class="st">&#39;other&#39;</span>] <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb41-19"><a href="PythonFunctionError.html#cb41-19"></a>            </span>
<span id="cb41-20"><a href="PythonFunctionError.html#cb41-20"></a>    <span class="cf">return</span> dic</span>
<span id="cb41-21"><a href="PythonFunctionError.html#cb41-21"></a><span class="bu">print</span>(func(<span class="st">&#39;+1-2 abcde 345 fg&#39;</span>))</span></code></pre></div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="PythonDataContainers.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="PythonObjectAndModuel.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/03-PythonFunctionError.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
